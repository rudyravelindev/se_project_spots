!function(){"use strict";var e="/se_project_spots",t=e+"images/logo.svg",n=e+"images/avatar.jpg",r=e+"images/pencil.svg",o=e+"images/plus.svg",a=e+"images/pencil-edit-avatar.svg",c={formSelector:".modal__form",inputSelector:".modal__input",subbmitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_invalid",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},i=function(e,t,n){e.querySelector("#".concat(t.id,"-error")).textContent="",t.classList.remove(n.inputErrorClass)},l=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.disabled=!1,t.classList.remove(n.inactiveButtonClass)):u(t,n)},u=function(e,t){e.disabled=!0,e.classList.add(t.inactiveButtonClass)},d=function(e){document.querySelectorAll(e.formSelector).forEach((function(t){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.subbmitButtonSelector);l(n,r,t),n.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,n){console.log(t.validationMessage),t.validity.valid?i(e,t,n):function(e,t,n,r){e.querySelector("#".concat(t.id,"-error")).textContent=n,t.classList.add(r.inputErrorClass)}(e,t,t.validationMessage,n)}(e,o,t),l(n,r,t)}))}))}(t,e)}))},s=function(e,t){Array.from(e.querySelectorAll(t.inputSelector)).forEach((function(n){i(e,n,t)}))};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}d(c);var _=function(){return e=function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r},(t=[{key:"getAppInfo",value:function(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"likeStatus",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}}])&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=document.querySelector(".profile__edit-btn"),p=document.querySelector(".profile__avatar-btn"),b=document.querySelector(".profile__name"),S=document.querySelector(".profile__description"),g=(document.querySelector("#card-template"),document.querySelector(".cards__list")),k=document.querySelector(".profile__add-btn"),q=document.querySelector("#edit-modal"),E=document.forms.modal__form,C=q.querySelector(".modal__close-btn"),L=q.querySelector("#profile-name-input"),A=q.querySelector("#profile-description-input"),D=document.querySelector("#add-card-modal"),U=document.forms["add-card-form"],P=D.querySelector(".modal__close-btn"),w=D.querySelector("#add-card-name-input"),I=D.querySelector("#add-card-link-input"),j=(D.querySelector(".modal__submit-btn_invalid"),document.querySelector("#preview-modal")),T=j.querySelector(".modal__image"),x=j.querySelector(".modal__caption"),O=j.querySelector(".modal__close-btn"),R=document.querySelector("#avatar-modal"),B=document.forms["edit-avatar"],F=R.querySelector("#avatar-url-input"),M=(R.querySelector(".modal__submit-btn"),R.querySelector(".modal__close-btn")),N=document.querySelector("#delete-modal"),J=N.querySelector(".modal__close-btn"),H=N.querySelector(".modal__submit-btn"),z=N.querySelector(".modal__submit-btn_type_cancel"),$=document.querySelector("#delete-form");document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".header__logo").src=t,document.querySelector(".profile__avatar").src=n,document.querySelector(".profile__edit-btn img").src=r,document.querySelector(".profile__add-btn img").src=o,document.querySelector(".profile__pencil-icon").src=a}));var G,K,Q=new _({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"a1a73611-83bd-49ee-9a2d-adac9099df34","Content-Type":"application/json"}});function V(e,t,n,r){e.disabled=t,e.classList.toggle("modal__submit-btn_loading",t),e.textContent=t?n:r}function W(e){var t=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0);t.id="card-".concat(e._id);var n=t.querySelector(".card__image"),r=t.querySelector(".card__title"),o=t.querySelector(".card__like-btn"),a=t.querySelector(".card__delete-btn");return n.src=e.link,n.alt=e.name,r.textContent=e.name,a.addEventListener("click",(function(){!function(e,t){G=e,K=t._id,X(N)}(t,e)})),e.isLiked&&o.classList.add("card__like-btn_liked"),n.addEventListener("click",(function(){T.src=e.link,T.alt=e.name,x.textContent=e.name,X(j)})),o.addEventListener("click",(function(){var t,n,r;t=e._id,r=(n=o).classList.contains("card__like-btn_liked"),Q.likeStatus(t,r).then((function(e){e.isLiked?n.classList.add("card__like-btn_liked"):n.classList.remove("card__like-btn_liked")})).catch((function(e){console.error("Error updating like status:",e)}))})),t}function X(e){e.classList.add("modal_opened"),document.addEventListener("keydown",Z)}function Y(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",Z)}function Z(e){if("Escape"===e.key){var t=document.querySelector(".modal_opened");t&&Y(t)}}Q.getAppInfo().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];console.log(a),a.forEach((function(e){var t=W(e);g.append(t)})),document.querySelector(".profile__avatar").src=o.avatar,b.textContent=o.name,S.textContent=o.about})).catch(console.error),J.addEventListener("click",(function(){Y(N)})),z.addEventListener("click",(function(){Y(N)})),H.addEventListener("click",(function(){var e=document.getElementById(N.dataset.cardToDelete);if(console.log("Card to delete:",N.dataset.cardToDelete),console.log("Card element found:",e),e){var t=N.dataset.cardToDelete.replace("card-","");console.log("Card ID to send to API:",t),Q.deleteCard(t).then((function(){e.remove(),Y(N)})).catch((function(e){console.error("Error deleting card:",e)}))}})),O.addEventListener("click",(function(){Y(j)})),p.addEventListener("click",(function(){s(B,c),X(R)})),M.addEventListener("click",(function(){return Y(R)})),B.addEventListener("submit",(function(e){e.preventDefault();var t=B.querySelector(".modal__submit-btn"),n=document.querySelector(".profile__avatar");V(t,!0,"Saving...","Save"),Q.updateAvatar({avatar:F.value}).then((function(e){n.src="".concat(e.avatar,"?t=").concat(Date.now()),B.reset(),Y(R),s(B,c),u(t,c)})).catch((function(e){console.error("Avatar update failed:",e),alert("Failed to update avatar. Please try again.")})).finally((function(){V(t,!1,"Saving...","Save"),u(t,c)}))})),document.querySelectorAll(".modal").forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&Y(e)}))})),$.addEventListener("submit",(function(e){e.preventDefault(),V(H,!0,"Deleting...","Delete"),Q.deleteCard(K).then((function(){G.remove(),Y(N),G=null,K=null})).catch((function(e){console.error("Error deleting card:",e)})).finally((function(){V(H,!1,"Delete","Delete")}))})),h.addEventListener("click",(function(){L.value=b.textContent,A.value=S.textContent,s(E,c),X(q)})),C.addEventListener("click",(function(){Y(q)})),k.addEventListener("click",(function(){X(D)})),P.addEventListener("click",(function(){Y(D)})),E.addEventListener("submit",(function(e){e.preventDefault();var t=E.querySelector(".modal__submit-btn");V(t,!0,"Saving...","Save"),Q.editUserInfo({name:L.value,about:A.value}).then((function(e){b.textContent=e.name,S.textContent=e.about,E.reset(),Y(q),s(E,c),u(t,c)})).catch((function(e){console.error("Profile update failed:",e),alert("Failed to update profile. Please try again.")})).finally((function(){V(t,!1,"Saving...","Save"),u(t,c)}))})),U.addEventListener("submit",(function(e){e.preventDefault();var t=U.querySelector(".modal__submit-btn");V(t,!0,"Creating...","Create"),Q.addCard({name:w.value,link:I.value}).then((function(e){var n=W(e);g.prepend(n),U.reset(),Y(D),s(U,c),u(t,c)})).catch((function(e){console.error("Failed to add card:",e),alert("Failed to add card. Please try again.")})).finally((function(){V(t,!1,"Creating...","Create"),u(t,c)}))})),d(c)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQ0EsSUFBSUEsRUNEb0Isb0IsZ0lDQVhDLEVBQVcsQ0FDdEJDLGFBQWMsZUFDZEMsY0FBZSxnQkFDZkMsc0JBQXVCLHFCQUN2QkMsb0JBQXFCLDRCQUNyQkMsZ0JBQWlCLDBCQUNqQkMsV0FBWSx3QkFTUkMsRUFBaUIsU0FBQ0MsRUFBUUMsRUFBU0MsR0FDcEJGLEVBQU9HLGNBQWMsSUFBREMsT0FBS0gsRUFBUUksR0FBRSxXQUMzQ0MsWUFBYyxHQUN6QkwsRUFBUU0sVUFBVUMsT0FBT04sRUFBT0wsZ0JBQ2xDLEVBaUJNWSxFQUFvQixTQUFDQyxFQUFXQyxFQUFVVCxJQU54QixTQUFDUSxHQUN2QixPQUFPQSxFQUFVRSxNQUFLLFNBQUNDLEdBQ3JCLE9BQVFBLEVBQU1DLFNBQVNDLEtBQ3pCLEdBQ0YsQ0FHTUMsQ0FBZ0JOLElBR2xCQyxFQUFTTSxVQUFXLEVBQ3BCTixFQUFTSixVQUFVQyxPQUFPTixFQUFPTixzQkFIakNzQixFQUFjUCxFQUFVVCxFQUs1QixFQUVNZ0IsRUFBZ0IsU0FBQ1AsRUFBVVQsR0FDL0JTLEVBQVNNLFVBQVcsRUFDcEJOLEVBQVNKLFVBQVVZLElBQUlqQixFQUFPTixvQkFDaEMsRUFnQmF3QixFQUFtQixTQUFDbEIsR0FDZG1CLFNBQVNDLGlCQUFpQnBCLEVBQU9ULGNBQ3pDOEIsU0FBUSxTQUFDdkIsSUFoQk0sU0FBQ0EsRUFBUUUsR0FDakMsSUFBTVEsRUFBWWMsTUFBTUMsS0FBS3pCLEVBQU9zQixpQkFBaUJwQixFQUFPUixnQkFDdERnQyxFQUFnQjFCLEVBQU9HLGNBQWNELEVBQU9QLHVCQUVsRGMsRUFBa0JDLEVBQVdnQixFQUFleEIsR0FFNUNRLEVBQVVhLFNBQVEsU0FBQ0ksR0FDakJBLEVBQWFDLGlCQUFpQixTQUFTLFlBcENoQixTQUFDNUIsRUFBUUMsRUFBU0MsR0FDM0MyQixRQUFRQyxJQUFJN0IsRUFBUThCLG1CQUNmOUIsRUFBUWEsU0FBU0MsTUFHcEJoQixFQUFlQyxFQUFRQyxFQUFTQyxHQWpCYixTQUFDRixFQUFRQyxFQUFTK0IsRUFBVTlCLEdBQzlCRixFQUFPRyxjQUFjLElBQURDLE9BQUtILEVBQVFJLEdBQUUsV0FDM0NDLFlBQWMwQixFQUN6Qi9CLEVBQVFNLFVBQVVZLElBQUlqQixFQUFPTCxnQkFDL0IsQ0FXSW9DLENBQWVqQyxFQUFRQyxFQUFTQSxFQUFROEIsa0JBQW1CN0IsRUFJL0QsQ0E4Qk1nQyxDQUFtQmxDLEVBQVEyQixFQUFjekIsR0FDekNPLEVBQWtCQyxFQUFXZ0IsRUFBZXhCLEVBQzlDLEdBQ0YsR0FDRixDQUtJaUMsQ0FBa0JuQyxFQUFRRSxFQUM1QixHQUNGLEVBRU1rQyxFQUFrQixTQUFDcEMsRUFBUUUsR0FDYnNCLE1BQU1DLEtBQUt6QixFQUFPc0IsaUJBQWlCcEIsRUFBT1IsZ0JBQ2xENkIsU0FBUSxTQUFDVixHQUNqQmQsRUFBZUMsRUFBUWEsRUFBT1gsRUFDaEMsR0FDRixFLGtxQkFFQWtCLEVBQWlCNUIsRyxJQ1BqQixFQXZFUyxXQUlOLE8sRUFIRCxTQUFBNkMsRUFBQUMsR0FBa0MsSUFBcEJDLEVBQU9ELEVBQVBDLFFBQVNDLEVBQU9GLEVBQVBFLFMsNEZBQU9DLENBQUEsS0FBQUosR0FDNUJLLEtBQUtDLFNBQVdKLEVBQ2hCRyxLQUFLRSxTQUFXSixDQUNsQixHLEVBQUMsRUFBQUssSUFBQSxhQUFBQyxNQUVELFdBQ0UsT0FBT0MsUUFBUUMsSUFBSSxDQUFDTixLQUFLTyxjQUFlUCxLQUFLUSxtQkFDL0MsR0FBQyxDQUFBTCxJQUFBLGtCQUFBQyxNQUVELFdBQ0UsT0FBT0ssTUFBTSxHQUFEL0MsT0FBSXNDLEtBQUtDLFNBQVEsVUFBVSxDQUNyQ0gsUUFBU0UsS0FBS0UsV0FDYlEsS0FBS1YsS0FBS1csZUFDZixHQUFDLENBQUFSLElBQUEsY0FBQUMsTUFFRCxXQUNFLE9BQU9LLE1BQU0sR0FBRC9DLE9BQUlzQyxLQUFLQyxTQUFRLGFBQWEsQ0FDeENILFFBQVNFLEtBQUtFLFdBQ2JRLEtBQUtWLEtBQUtXLGVBQ2YsR0FBQyxDQUFBUixJQUFBLGVBQUFDLE1BRUQsU0FBWVEsR0FBa0IsSUFBZkMsRUFBSUQsRUFBSkMsS0FBTUMsRUFBS0YsRUFBTEUsTUFDbkIsT0FBT0wsTUFBTSxHQUFEL0MsT0FBSXNDLEtBQUtDLFNBQVEsYUFBYSxDQUN4Q2MsT0FBUSxRQUNSakIsUUFBU0UsS0FBS0UsU0FFZGMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkwsS0FBQUEsRUFDQUMsTUFBQUEsTUFFREosS0FBS1YsS0FBS1csZUFDZixHQUFDLENBQUFSLElBQUEsZUFBQUMsTUFFRCxTQUFhZSxHQUNYLE9BQU9WLE1BQU0sR0FBRC9DLE9BQUlzQyxLQUFLQyxTQUFRLG9CQUFvQixDQUMvQ2MsT0FBUSxRQUNSakIsUUFBU0UsS0FBS0UsU0FDZGMsS0FBTUMsS0FBS0MsVUFBVUMsS0FDcEJULEtBQUtWLEtBQUtXLGVBQ2YsR0FBQyxDQUFBUixJQUFBLFVBQUFDLE1BRUQsU0FBUWUsR0FDTixPQUFPVixNQUFNLEdBQUQvQyxPQUFJc0MsS0FBS0MsU0FBUSxVQUFVLENBQ3JDYyxPQUFRLE9BQ1JqQixRQUFTRSxLQUFLRSxTQUNkYyxLQUFNQyxLQUFLQyxVQUFVQyxLQUNwQlQsS0FBS1YsS0FBS1csZUFDZixHQUFDLENBQUFSLElBQUEsYUFBQUMsTUFFRCxTQUFXekMsR0FDVCxPQUFPOEMsTUFBTSxHQUFEL0MsT0FBSXNDLEtBQUtDLFNBQVEsV0FBQXZDLE9BQVVDLEdBQU0sQ0FDM0NvRCxPQUFRLFNBQ1JqQixRQUFTRSxLQUFLRSxXQUNiUSxLQUFLVixLQUFLVyxlQUNmLEdBQUMsQ0FBQVIsSUFBQSxpQkFBQUMsTUFFRCxTQUFlZ0IsR0FDYixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOakIsUUFBUWtCLE9BQU8sVUFBRDdELE9BQVcwRCxFQUFJSSxRQUN0QyxHQUFDLENBQUFyQixJQUFBLGFBQUFDLE1BRUQsU0FBV3pDLEVBQUk4RCxHQUNiLE9BQU9oQixNQUFNLEdBQUQvQyxPQUFJc0MsS0FBS0MsU0FBUSxXQUFBdkMsT0FBVUMsRUFBRSxVQUFVLENBQ2pEb0QsT0FBUVUsRUFBVSxTQUFXLE1BQzdCM0IsUUFBU0UsS0FBS0UsV0FDYlEsS0FBS1YsS0FBS1csZUFDZixNLDZFQUFDLENBckVNLEcsc0dDc0JULElBQU1lLEVBQW9CL0MsU0FBU2xCLGNBQWMsc0JBQzNDa0UsRUFBbUJoRCxTQUFTbEIsY0FBYyx3QkFDMUNtRSxFQUFjakQsU0FBU2xCLGNBQWMsa0JBQ3JDb0UsRUFBcUJsRCxTQUFTbEIsY0FBYyx5QkFJNUNxRSxHQURlbkQsU0FBU2xCLGNBQWMsa0JBQzFCa0IsU0FBU2xCLGNBQWMsaUJBQ25Dc0UsRUFBaUJwRCxTQUFTbEIsY0FBYyxxQkFHeEN1RSxFQUFZckQsU0FBU2xCLGNBQWMsZUFDbkN3RSxFQUFrQnRELFNBQVN1RCxNQUFtQixZQUM5Q0MsRUFBb0JILEVBQVV2RSxjQUFjLHFCQUM1QzJFLEVBQXFCSixFQUFVdkUsY0FBYyx1QkFDN0M0RSxFQUE0QkwsRUFBVXZFLGNBQzFDLDhCQUlJNkUsRUFBWTNELFNBQVNsQixjQUFjLG1CQUNuQzhFLEVBQVc1RCxTQUFTdUQsTUFBTSxpQkFDMUJNLEVBQW9CRixFQUFVN0UsY0FBYyxxQkFDNUNnRixFQUFnQkgsRUFBVTdFLGNBQWMsd0JBQ3hDaUYsRUFBZ0JKLEVBQVU3RSxjQUFjLHdCQUl4Q2tGLEdBSGdCTCxFQUFVN0UsY0FBYyw4QkFHekJrQixTQUFTbEIsY0FBYyxtQkFDdENtRixFQUEyQkQsRUFBYWxGLGNBQWMsaUJBQ3REb0YsRUFDSkYsRUFBYWxGLGNBQWMsbUJBQ3ZCcUYsRUFBdUJILEVBQWFsRixjQUFjLHFCQUdsRHNGLEVBQWNwRSxTQUFTbEIsY0FBYyxpQkFDckN1RixFQUFhckUsU0FBU3VELE1BQU0sZUFDNUJlLEVBQWlCRixFQUFZdEYsY0FBYyxxQkFFM0N5RixHQURrQkgsRUFBWXRGLGNBQWMsc0JBQ3RCc0YsRUFBWXRGLGNBQWMsc0JBR2hEMEYsRUFBY3hFLFNBQVNsQixjQUFjLGlCQUNyQzJGLEVBQXNCRCxFQUFZMUYsY0FBYyxxQkFDaEQ0RixFQUFzQkYsRUFBWTFGLGNBQWMsc0JBQ2hENkYsRUFBcUJILEVBQVkxRixjQUNyQyxrQ0FFSThGLEVBQWE1RSxTQUFTbEIsY0FBYyxnQkFHMUNrQixTQUFTTyxpQkFBaUIsb0JBQW9CLFdBQzVDUCxTQUFTbEIsY0FBYyxpQkFBaUIrRixJQUFNQyxFQUM5QzlFLFNBQVNsQixjQUFjLG9CQUFvQitGLElBQU1FLEVBQ2pEL0UsU0FBU2xCLGNBQWMsMEJBQTBCK0YsSUFBTUcsRUFDdkRoRixTQUFTbEIsY0FBYyx5QkFBeUIrRixJQUFNSSxFQUN0RGpGLFNBQVNsQixjQUFjLHlCQUF5QitGLElBQU1LLENBQ3hELElBRUEsSUFzRklDLEVBQ0FDLEVBNURFQyxFQUFNLElBQUlyRSxFQUFJLENBQ2xCRSxRQUFTLGtEQUNUQyxRQUFTLENBQ1BtRSxjQUFlLHVDQUNmLGVBQWdCLHNCQTBEcEIsU0FBU0MsRUFBcUJDLEVBQVFDLEVBQVdDLEVBQWFDLEdBQzVESCxFQUFPNUYsU0FBVzZGLEVBQ2xCRCxFQUFPdEcsVUFBVTBHLE9BQU8sNEJBQTZCSCxHQUNyREQsRUFBT3ZHLFlBQWN3RyxFQUFZQyxFQUFjQyxDQUNqRCxDQUVBLFNBQVNFLEVBQWVDLEdBQ3RCLElBQ01DLEVBRGUvRixTQUFTbEIsY0FBYyxrQkFBa0JrSCxRQUM3QmxILGNBQWMsU0FBU21ILFdBQVUsR0FHbEVGLEVBQVkvRyxHQUFLLFFBQUhELE9BQVcrRyxFQUFTSSxLQUVsQyxJQUFNQyxFQUFZSixFQUFZakgsY0FBYyxnQkFDdENzSCxFQUFZTCxFQUFZakgsY0FBYyxnQkFDdEN1SCxFQUFpQk4sRUFBWWpILGNBQWMsbUJBQzNDd0gsRUFBZVAsRUFBWWpILGNBQWMscUJBMkIvQyxPQXpCQXFILEVBQVV0QixJQUFNaUIsRUFBU1MsS0FDekJKLEVBQVVLLElBQU1WLEVBQVM1RCxLQUN6QmtFLEVBQVVuSCxZQUFjNkcsRUFBUzVELEtBRWpDb0UsRUFBYS9GLGlCQUFpQixTQUFTLFlBd0p6QyxTQUEwQndGLEVBQWF2RCxHQUNyQzJDLEVBQWVZLEVBQ2ZYLEVBQWlCNUMsRUFBSzBELElBQ3RCTyxFQUFVakMsRUFDWixDQTNKSWtDLENBQWlCWCxFQUFhRCxFQUNoQyxJQUdJQSxFQUFTaEQsU0FDWHVELEVBQWVuSCxVQUFVWSxJQUFJLHdCQUkvQnFHLEVBQVU1RixpQkFBaUIsU0FBUyxXQUNsQzBELEVBQXlCWSxJQUFNaUIsRUFBU1MsS0FDeEN0QyxFQUF5QnVDLElBQU1WLEVBQVM1RCxLQUN4Q2dDLEVBQTJCakYsWUFBYzZHLEVBQVM1RCxLQUNsRHVFLEVBQVV6QyxFQUNaLElBR0FxQyxFQUFlOUYsaUJBQWlCLFNBQVMsV0FrSzNDLElBQXlCb0csRUFBUUMsRUFFekI5RCxFQUZpQjZELEVBaktMYixFQUFTSSxJQW1LckJwRCxHQUZ5QjhELEVBaktDUCxHQW1LTG5ILFVBQVUySCxTQUFTLHdCQUU5Q3hCLEVBQ0d5QixXQUFXSCxFQUFRN0QsR0FDbkJmLE1BQUssU0FBQ2dGLEdBQ0RBLEVBQVlqRSxRQUNkOEQsRUFBVzFILFVBQVVZLElBQUksd0JBRXpCOEcsRUFBVzFILFVBQVVDLE9BQU8sdUJBRWhDLElBQUUsT0FDSyxTQUFDNkgsR0FDTnhHLFFBQVF5RyxNQUFNLDhCQUErQkQsRUFDL0MsR0EvS0YsSUFDT2pCLENBQ1QsQ0FjQSxTQUFTVSxFQUFVUyxHQUNqQkEsRUFBTWhJLFVBQVVZLElBQUksZ0JBQ3BCRSxTQUFTTyxpQkFBaUIsVUFBVzRHLEVBQ3ZDLENBNkRBLFNBQVNDLEVBQVdGLEdBQ2xCQSxFQUFNaEksVUFBVUMsT0FBTyxnQkFDdkJhLFNBQVNxSCxvQkFBb0IsVUFBV0YsRUFDMUMsQ0FFQSxTQUFTQSxFQUFnQkcsR0FDdkIsR0FBZ0IsV0FBWkEsRUFBSTlGLElBQWtCLENBQ3hCLElBQU1pRixFQUFZekcsU0FBU2xCLGNBQWMsaUJBQ3JDMkgsR0FDRlcsRUFBV1gsRUFFZixDQUNGLENBNUxBcEIsRUFDR2tDLGFBQ0F4RixNQUFLLFNBQUFkLEdBQXVCLEksSUFBQWdCLEcsRUFBQSxFLDRDQUFBaEIsSSxzMUJBQXJCdUcsRUFBUXZGLEVBQUEsR0FBRXdGLEVBQUt4RixFQUFBLEdBQ3JCekIsUUFBUUMsSUFBSWdILEdBQ1pBLEVBQU12SCxTQUFRLFNBQUN3SCxHQUNiLElBQU0zQixFQUFjRixFQUFlNkIsR0FDbkN2RSxFQUFVd0UsT0FBTzVCLEVBQ25CLElBRUEvRixTQUFTbEIsY0FBYyxvQkFBb0IrRixJQUFNMkMsRUFBU3pDLE9BQzFEOUIsRUFBWWhFLFlBQWN1SSxFQUFTdEYsS0FDbkNnQixFQUFtQmpFLFlBQWN1SSxFQUFTckYsS0FDNUMsSUFBRSxNQUNLM0IsUUFBUXlHLE9BSWpCeEMsRUFBb0JsRSxpQkFBaUIsU0FBUyxXQUM1QzZHLEVBQVc1QyxFQUNiLElBRUFHLEVBQW1CcEUsaUJBQWlCLFNBQVMsV0FDM0M2RyxFQUFXNUMsRUFDYixJQUVBRSxFQUFvQm5FLGlCQUFpQixTQUFTLFdBQzVDLElBQU13RixFQUFjL0YsU0FBUzRILGVBQWVwRCxFQUFZcUQsUUFBUUMsY0FJaEUsR0FIQXRILFFBQVFDLElBQUksa0JBQW1CK0QsRUFBWXFELFFBQVFDLGNBQ25EdEgsUUFBUUMsSUFBSSxzQkFBdUJzRixHQUU5QkEsRUFBTCxDQUVBLElBQU1ZLEVBQVNuQyxFQUFZcUQsUUFBUUMsYUFBYUMsUUFBUSxRQUFTLElBQ2pFdkgsUUFBUUMsSUFBSSwwQkFBMkJrRyxHQUV2Q3RCLEVBQ0cyQyxXQUFXckIsR0FDWDVFLE1BQUssV0FDSmdFLEVBQVk1RyxTQUNaaUksRUFBVzVDLEVBQ2IsSUFBRSxPQUNLLFNBQUN3QyxHQUNOeEcsUUFBUXlHLE1BQU0sdUJBQXdCRCxFQUN4QyxHQWJzQixDQWMxQixJQUdBN0MsRUFBcUI1RCxpQkFBaUIsU0FBUyxXQUM3QzZHLEVBQVdwRCxFQUNiLElBb0RBaEIsRUFBaUJ6QyxpQkFBaUIsU0FBUyxXQUN6Q1EsRUFBZ0JzRCxFQUFZbEcsR0FDNUJzSSxFQUFVckMsRUFDWixJQUdBRyxFQUFvQmhFLGlCQUFpQixTQUFTLGtCQUFNNkcsRUFBV2hELEVBQVksSUFHM0VDLEVBQVc5RCxpQkFBaUIsVUFRNUIsU0FBNEIrRyxHQUMxQkEsRUFBSVcsaUJBQ0osSUFBTUMsRUFBZTdELEVBQVd2RixjQUFjLHNCQUN4Q3FKLEVBQVluSSxTQUFTbEIsY0FBYyxvQkFFekN5RyxFQUFxQjJDLEdBQWMsRUFBTSxZQUFhLFFBRXREN0MsRUFDRytDLGFBQWEsQ0FBRXJELE9BQVFULEVBQWU3QyxRQUN0Q00sTUFBSyxTQUFDeUYsR0FDTFcsRUFBVXRELElBQU0sR0FBSDlGLE9BQU15SSxFQUFTekMsT0FBTSxPQUFBaEcsT0FBTXNKLEtBQUtDLE9BQzdDakUsRUFBV2tFLFFBQ1huQixFQUFXaEQsR0FDWHJELEVBQWdCc0QsRUFBWWxHLEdBRTVCMEIsRUFBY3FJLEVBQWMvSixFQUM5QixJQUFFLE9BQ0ssU0FBQzZJLEdBQ054RyxRQUFReUcsTUFBTSx3QkFBeUJELEdBQ3ZDd0IsTUFBTSw2Q0FDUixJQUFFLFNBQ08sV0FDUGpELEVBQXFCMkMsR0FBYyxFQUFPLFlBQWEsUUFFdkRySSxFQUFjcUksRUFBYy9KLEVBQzlCLEdBQ0osSUE4Q0E2QixTQUFTQyxpQkFBaUIsVUFBVUMsU0FBUSxTQUFDZ0gsR0FDM0NBLEVBQU0zRyxpQkFBaUIsU0FBUyxTQUFDK0csR0FDM0JBLEVBQUltQixTQUFXdkIsR0FDakJFLEVBQVdGLEVBRWYsR0FDRixJQTBEQXRDLEVBQVdyRSxpQkFBaUIsVUFyQjVCLFNBQTRCK0csR0FDMUJBLEVBQUlXLGlCQUVKMUMsRUFBcUJiLEdBQXFCLEVBQU0sY0FBZSxVQUUvRFcsRUFDRzJDLFdBQVc1QyxHQUNYckQsTUFBSyxXQUNKb0QsRUFBYWhHLFNBQ2JpSSxFQUFXNUMsR0FDWFcsRUFBZSxLQUNmQyxFQUFpQixJQUNuQixJQUFFLE9BQ0ssU0FBQzRCLEdBQ054RyxRQUFReUcsTUFBTSx1QkFBd0JELEVBQ3hDLElBQUUsU0FDTyxXQUNQekIsRUFBcUJiLEdBQXFCLEVBQU8sU0FBVSxTQUM3RCxHQUNKLElBc0JBM0IsRUFBa0J4QyxpQkFBaUIsU0FBUyxXQUMxQ2tELEVBQW1CaEMsTUFBUXdCLEVBQVloRSxZQUN2Q3lFLEVBQTBCakMsTUFBUXlCLEVBQW1CakUsWUFFckQ4QixFQUFnQnVDLEVBQWlCbkYsR0FDakNzSSxFQUFVcEQsRUFDWixJQUVBRyxFQUFrQmpELGlCQUFpQixTQUFTLFdBQzFDNkcsRUFBVy9ELEVBQ2IsSUFFQUQsRUFBZTdDLGlCQUFpQixTQUFTLFdBQ3ZDa0csRUFBVTlDLEVBQ1osSUFFQUUsRUFBa0J0RCxpQkFBaUIsU0FBUyxXQUMxQzZHLEVBQVd6RCxFQUNiLElBRUFMLEVBQWdCL0MsaUJBQWlCLFVBaEdqQyxTQUE4QitHLEdBQzVCQSxFQUFJVyxpQkFDSixJQUFNQyxFQUFlNUUsRUFBZ0J4RSxjQUFjLHNCQUVuRHlHLEVBQXFCMkMsR0FBYyxFQUFNLFlBQWEsUUFFdEQ3QyxFQUNHcUQsYUFBYSxDQUNaeEcsS0FBTXVCLEVBQW1CaEMsTUFDekJVLE1BQU91QixFQUEwQmpDLFFBRWxDTSxNQUFLLFNBQUNTLEdBQ0xTLEVBQVloRSxZQUFjdUQsRUFBS04sS0FDL0JnQixFQUFtQmpFLFlBQWN1RCxFQUFLTCxNQUN0Q21CLEVBQWdCaUYsUUFDaEJuQixFQUFXL0QsR0FDWHRDLEVBQWdCdUMsRUFBaUJuRixHQUVqQzBCLEVBQWNxSSxFQUFjL0osRUFDOUIsSUFBRSxPQUNLLFNBQUM2SSxHQUNOeEcsUUFBUXlHLE1BQU0seUJBQTBCRCxHQUN4Q3dCLE1BQU0sOENBQ1IsSUFBRSxTQUNPLFdBQ1BqRCxFQUFxQjJDLEdBQWMsRUFBTyxZQUFhLFFBQ3ZEckksRUFBY3FJLEVBQWMvSixFQUM5QixHQUNKLElBcUVBeUYsRUFBU3JELGlCQUFpQixVQXJKMUIsU0FBNkIrRyxHQUMzQkEsRUFBSVcsaUJBQ0osSUFBTUMsRUFBZXRFLEVBQVM5RSxjQUFjLHNCQUU1Q3lHLEVBQXFCMkMsR0FBYyxFQUFNLGNBQWUsVUFFeEQ3QyxFQUNHc0QsUUFBUSxDQUNQekcsS0FBTTRCLEVBQWNyQyxNQUNwQjhFLEtBQU14QyxFQUFjdEMsUUFFckJNLE1BQUssU0FBQytELEdBQ0wsSUFBTUMsRUFBY0YsRUFBZUMsR0FDbkMzQyxFQUFVeUYsUUFBUTdDLEdBQ2xCbkMsRUFBUzJFLFFBQ1RuQixFQUFXekQsR0FDWDVDLEVBQWdCNkMsRUFBVXpGLEdBRTFCMEIsRUFBY3FJLEVBQWMvSixFQUM5QixJQUFFLE9BQ0ssU0FBQzZJLEdBQ054RyxRQUFReUcsTUFBTSxzQkFBdUJELEdBQ3JDd0IsTUFBTSx3Q0FDUixJQUFFLFNBQ08sV0FDUGpELEVBQXFCMkMsR0FBYyxFQUFPLGNBQWUsVUFDekRySSxFQUFjcUksRUFBYy9KLEVBQzlCLEdBQ0osSUEySEE0QixFQUFpQjVCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc2VfcHJvamVjdF9zcG90c1wiOyIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3ViYm1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ0blwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnRuX2ludmFsaWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgZXJyb3JNc2csIGNvbmZpZykgPT4ge1xuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gIGVycm9yTXNnRWwudGV4dENvbnRlbnQgPSBlcnJvck1zZztcbiAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnNvbGUubG9nKGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gIGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xufTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsLCBjb25maWcpID0+IHtcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWwucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1YmJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XG4gIH0pO1xufTtcblxuY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59O1xuZXhwb3J0IHsgZGlzYWJsZUJ1dHRvbiwgcmVzZXRWYWxpZGF0aW9uIH07XG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBnZXRBcHBJbmZvKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcblxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cblxuICB1cGRhdGVBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBsaWtlU3RhdHVzKGlkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImltcG9ydCBsb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nby5zdmdcIjtcbmltcG9ydCBhdmF0YXIgZnJvbSBcIi4uL2ltYWdlcy9hdmF0YXIuanBnXCI7XG5pbXBvcnQgcGVuY2lsIGZyb20gXCIuLi9pbWFnZXMvcGVuY2lsLnN2Z1wiO1xuaW1wb3J0IHBsdXMgZnJvbSBcIi4uL2ltYWdlcy9wbHVzLnN2Z1wiO1xuaW1wb3J0IHBlbmNpbEVkaXRBdmF0YXIgZnJvbSBcIi4uL2ltYWdlcy9wZW5jaWwtZWRpdC1hdmF0YXIuc3ZnXCI7XG5pbXBvcnQgY2xvc2VJY29uIGZyb20gXCIuLi9pbWFnZXMvY2xvc2UtaWNvbi1saWdodC5zdmdcIjtcblxuLy8gSW1wb3J0IENTU1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLy8gSW1wb3J0IFNjcmlwdHNcbmltcG9ydCB7XG4gIGVuYWJsZVZhbGlkYXRpb24sXG4gIHNldHRpbmdzLFxuICBkaXNhYmxlQnV0dG9uLFxuICByZXNldFZhbGlkYXRpb24sXG59IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcblxuLy8gSW1wb3J0IEFQSVxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5cbi8vIFByb2ZpbGUgRWxlbWVudHNcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0blwiKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idG5cIik7XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbi8vIENhcmQgRWxlbWVudHNcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5jb25zdCBjYXJkRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcblxuLy8gRWRpdCBQcm9maWxlIE1vZGFsIEVsZW1lbnRzXG5jb25zdCBlZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtbW9kYWxcIik7XG5jb25zdCBlZGl0Rm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcIm1vZGFsX19mb3JtXCJdO1xuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdG4gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgZWRpdE1vZGFsTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xuY29uc3QgZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcbik7XG5cbi8vIEFkZCBDYXJkIE1vZGFsIEVsZW1lbnRzXG5jb25zdCBjYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xuY29uc3QgY2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImFkZC1jYXJkLWZvcm1cIl07XG5jb25zdCBjYXJkTW9kYWxDbG9zZUJ0biA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5jb25zdCBjYXJkTmFtZUlucHV0ID0gY2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbmFtZS1pbnB1dFwiKTtcbmNvbnN0IGNhcmRMaW5rSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1saW5rLWlucHV0XCIpO1xuY29uc3QgY2FyZFN1Ym1pdEJ0biA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuX2ludmFsaWRcIik7XG5cbi8vIFByZXZpZXcgTW9kYWwgRWxlbWVudHNcbmNvbnN0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKTtcbmNvbnN0IHByZXZpZXdNb2RhbEltYWdlRWxlbWVudCA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IHByZXZpZXdNb2RhbENhcHRpb25FbGVtZW50ID1cbiAgcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XG5jb25zdCBwcmV2aWV3TW9kYWxDbG9zZUJ0biA9IHByZXZpZXdNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5cbi8vIEF2YXRhciBNb2RhbCBFbGVtZW50c1xuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtYXZhdGFyXCJdO1xuY29uc3QgYXZhdGFyVXJsSW5wdXQgPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci11cmwtaW5wdXRcIik7XG5jb25zdCBhdmF0YXJTdWJtaXRCdG4gPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuXCIpO1xuY29uc3QgYXZhdGFyTW9kYWxDbG9zZUJ0biA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxuLy8gRGVsZXRlIE1vZGFsIEVsZW1lbnRzXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlTW9kYWxDbG9zZUJ0biA9IGRlbGV0ZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbmNvbnN0IGNvbmZpcm1EZWxldGVCdXR0b24gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnRuXCIpO1xuY29uc3QgY2FuY2VsRGVsZXRlQnV0dG9uID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX3N1Ym1pdC1idG5fdHlwZV9jYW5jZWxcIlxuKTtcbmNvbnN0IGRlbGV0ZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1mb3JtXCIpO1xuXG4vLyBET01Db250ZW50TG9hZGVkIGV2ZW50IGxpc3RlbmVyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19sb2dvXCIpLnNyYyA9IGxvZ287XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpLnNyYyA9IGF2YXRhcjtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ0biBpbWdcIikuc3JjID0gcGVuY2lsO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idG4gaW1nXCIpLnNyYyA9IHBsdXM7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGVuY2lsLWljb25cIikuc3JjID0gcGVuY2lsRWRpdEF2YXRhcjtcbn0pO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU3NjA5MDYzOTQ3Ny03Nzk4M2I3MmRlNmY/cT04MCZ3PTMwMjQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlJlc3RhdXJhbnQgdGVycmFjZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wbHVzLnVuc3BsYXNoLmNvbS9wcmVtaXVtX3Bob3RvLTE3MjM0OTEyODU4NTUtZjEwMzVjNGM3MDNjP3E9ODAmdz0zNTQwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJBbiBvdXRkb29yIGNhZmVcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGx1cy51bnNwbGFzaC5jb20vcHJlbWl1bV9waG90by0xNjY0Mjg2Nzc0MjAzLWJiNDk2ODJmNDFiMT9xPTgwJnc9MzUzOCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3RcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDc2MjMxNjgyODI4LTM3ZTU3MWJjMTcyZj9xPTgwJnc9MzQ3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVHVubmVsIHdpdGggbW9ybmlnIGxpZ2h0XCIsXG4gICAgbGluazogXCJodHRwczovL3BsdXMudW5zcGxhc2guY29tL3ByZW1pdW1fcGhvdG8tMTY3MzUxNTI0MzEyMC1mZDM2OTFkYjU3NTQ/cT04MCZ3PTM1NDAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY0NjA3MDA3ODM4OC00YTU2NmRlNzQ4NGQ/cT04MCZ3PTI3NjUmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG5dO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJhMWE3MzYxMS04M2JkLTQ5ZWUtOWEyZC1hZGFjOTA5OWRmMzRcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5hcGlcbiAgLmdldEFwcEluZm8oKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc10pID0+IHtcbiAgICBjb25zb2xlLmxvZyhjYXJkcyk7XG4gICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChpdGVtKTtcbiAgICAgIGNhcmRzTGlzdC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIikuc3JjID0gdXNlckRhdGEuYXZhdGFyO1xuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckRhdGEubmFtZTtcbiAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB1c2VyRGF0YS5hYm91dDtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vLyBkZWxldGUgbW9kYWwgY29uZmlybWF0aW9uXG5cbmRlbGV0ZU1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG59KTtcblxuY2FuY2VsRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpO1xufSk7XG5cbmNvbmZpcm1EZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZWxldGVNb2RhbC5kYXRhc2V0LmNhcmRUb0RlbGV0ZSk7XG4gIGNvbnNvbGUubG9nKFwiQ2FyZCB0byBkZWxldGU6XCIsIGRlbGV0ZU1vZGFsLmRhdGFzZXQuY2FyZFRvRGVsZXRlKTtcbiAgY29uc29sZS5sb2coXCJDYXJkIGVsZW1lbnQgZm91bmQ6XCIsIGNhcmRFbGVtZW50KTtcblxuICBpZiAoIWNhcmRFbGVtZW50KSByZXR1cm47XG5cbiAgY29uc3QgY2FyZElkID0gZGVsZXRlTW9kYWwuZGF0YXNldC5jYXJkVG9EZWxldGUucmVwbGFjZShcImNhcmQtXCIsIFwiXCIpO1xuICBjb25zb2xlLmxvZyhcIkNhcmQgSUQgdG8gc2VuZCB0byBBUEk6XCIsIGNhcmRJZCk7XG5cbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNhcmQ6XCIsIGVycik7XG4gICAgfSk7XG59KTtcbi8vIEVuZFxuXG5wcmV2aWV3TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XG59KTtcblxubGV0IHNlbGVjdGVkQ2FyZDtcbmxldCBzZWxlY3RlZENhcmRJZDtcblxuZnVuY3Rpb24gc2V0U3VibWl0QnV0dG9uU3RhdGUoYnV0dG9uLCBpc0xvYWRpbmcsIGxvYWRpbmdUZXh0LCBkZWZhdWx0VGV4dCkge1xuICBidXR0b24uZGlzYWJsZWQgPSBpc0xvYWRpbmc7XG4gIGJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwibW9kYWxfX3N1Ym1pdC1idG5fbG9hZGluZ1wiLCBpc0xvYWRpbmcpO1xuICBidXR0b24udGV4dENvbnRlbnQgPSBpc0xvYWRpbmcgPyBsb2FkaW5nVGV4dCA6IGRlZmF1bHRUZXh0O1xufVxuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChjYXJkRGF0YSkge1xuICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcblxuICAvLyBBZGQgYSB1bmlxdWUgSUQgdG8gdGhlIGNhcmRcbiAgY2FyZEVsZW1lbnQuaWQgPSBgY2FyZC0ke2NhcmREYXRhLl9pZH1gO1xuXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRUaXRsZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcbiAgY29uc3QgZGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnRuXCIpO1xuXG4gIGNhcmRJbWFnZS5zcmMgPSBjYXJkRGF0YS5saW5rO1xuICBjYXJkSW1hZ2UuYWx0ID0gY2FyZERhdGEubmFtZTtcbiAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gY2FyZERhdGEubmFtZTtcblxuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBoYW5kbGVEZWxldGVDYXJkKGNhcmRFbGVtZW50LCBjYXJkRGF0YSk7XG4gIH0pO1xuXG4gIC8vIFNldCBpbml0aWFsIGxpa2Ugc3RhdGVcbiAgaWYgKGNhcmREYXRhLmlzTGlrZWQpIHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH1cblxuICAvLyBPcGVuIHRoZSBjYXJkIHByZXZpZXdcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcHJldmlld01vZGFsSW1hZ2VFbGVtZW50LnNyYyA9IGNhcmREYXRhLmxpbms7XG4gICAgcHJldmlld01vZGFsSW1hZ2VFbGVtZW50LmFsdCA9IGNhcmREYXRhLm5hbWU7XG4gICAgcHJldmlld01vZGFsQ2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xuICAgIG9wZW5Nb2RhbChwcmV2aWV3TW9kYWwpO1xuICB9KTtcblxuICAvLyBBZGQgY2xpY2sgZXZlbnQgbGlzdGVuZXIgZm9yIGxpa2UgYnV0dG9uXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaGFuZGxlTGlrZUNsaWNrKGNhcmREYXRhLl9pZCwgY2FyZExpa2VCdXR0b24pO1xuICB9KTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG4vLyBPcGVuIEF2YXRhciBNb2RhbFxucHJvZmlsZUF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICByZXNldFZhbGlkYXRpb24oYXZhdGFyRm9ybSwgc2V0dGluZ3MpO1xuICBvcGVuTW9kYWwoYXZhdGFyTW9kYWwpO1xufSk7XG5cbi8vIENsb3NlIEF2YXRhciBNb2RhbFxuYXZhdGFyTW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChhdmF0YXJNb2RhbCkpO1xuXG4vLyBBdmF0YXIgRm9ybSBTdWJtaXNzaW9uXG5hdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQXZhdGFyU3VibWl0KTtcblxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XG59XG4vLyBIYW5kbGUgYXZhdGFyIHVwZGF0ZSBzdWJtaXNzaW9uXG4vLyBBdmF0YXIgc3VibWlzc2lvbiBoYW5kbGVyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBhdmF0YXJGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XG4gIGNvbnN0IGF2YXRhckltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuXG4gIHNldFN1Ym1pdEJ1dHRvblN0YXRlKHN1Ym1pdEJ1dHRvbiwgdHJ1ZSwgXCJTYXZpbmcuLi5cIiwgXCJTYXZlXCIpO1xuXG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIoeyBhdmF0YXI6IGF2YXRhclVybElucHV0LnZhbHVlIH0pXG4gICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICBhdmF0YXJJbWcuc3JjID0gYCR7dXNlckRhdGEuYXZhdGFyfT90PSR7RGF0ZS5ub3coKX1gO1xuICAgICAgYXZhdGFyRm9ybS5yZXNldCgpO1xuICAgICAgY2xvc2VNb2RhbChhdmF0YXJNb2RhbCk7XG4gICAgICByZXNldFZhbGlkYXRpb24oYXZhdGFyRm9ybSwgc2V0dGluZ3MpO1xuICAgICAgLy8gRGlzYWJsZSB0aGUgYnV0dG9uIGFmdGVyIHN1Y2Nlc3NmdWwgc3VibWlzc2lvblxuICAgICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQXZhdGFyIHVwZGF0ZSBmYWlsZWQ6XCIsIGVycik7XG4gICAgICBhbGVydChcIkZhaWxlZCB0byB1cGRhdGUgYXZhdGFyLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldFN1Ym1pdEJ1dHRvblN0YXRlKHN1Ym1pdEJ1dHRvbiwgZmFsc2UsIFwiU2F2aW5nLi4uXCIsIFwiU2F2ZVwiKTtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYnV0dG9uIHN0YXlzIGRpc2FibGVkIGV2ZW4gYWZ0ZXIgdGhlIGxvYWRpbmcgc3RhdGUgaXMgcmVtb3ZlZFxuICAgICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGNhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIik7XG5cbiAgc2V0U3VibWl0QnV0dG9uU3RhdGUoc3VibWl0QnV0dG9uLCB0cnVlLCBcIkNyZWF0aW5nLi4uXCIsIFwiQ3JlYXRlXCIpO1xuXG4gIGFwaVxuICAgIC5hZGRDYXJkKHtcbiAgICAgIG5hbWU6IGNhcmROYW1lSW5wdXQudmFsdWUsXG4gICAgICBsaW5rOiBjYXJkTGlua0lucHV0LnZhbHVlLFxuICAgIH0pXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGNhcmREYXRhKTtcbiAgICAgIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcbiAgICAgIGNhcmRGb3JtLnJlc2V0KCk7XG4gICAgICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XG4gICAgICByZXNldFZhbGlkYXRpb24oY2FyZEZvcm0sIHNldHRpbmdzKTtcbiAgICAgIC8vIERpc2FibGUgdGhlIGJ1dHRvbiBhZnRlciBzdWNjZXNzZnVsIHN1Ym1pc3Npb25cbiAgICAgIGRpc2FibGVCdXR0b24oc3VibWl0QnV0dG9uLCBzZXR0aW5ncyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBhZGQgY2FyZDpcIiwgZXJyKTtcbiAgICAgIGFsZXJ0KFwiRmFpbGVkIHRvIGFkZCBjYXJkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldFN1Ym1pdEJ1dHRvblN0YXRlKHN1Ym1pdEJ1dHRvbiwgZmFsc2UsIFwiQ3JlYXRpbmcuLi5cIiwgXCJDcmVhdGVcIik7XG4gICAgICBkaXNhYmxlQnV0dG9uKHN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUtleSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleShldnQpIHtcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBjb25zdCBvcGVuTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX29wZW5lZFwiKTtcbiAgICBpZiAob3Blbk1vZGFsKSB7XG4gICAgICBjbG9zZU1vZGFsKG9wZW5Nb2RhbCk7XG4gICAgfVxuICB9XG59XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIikuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gbW9kYWwpIHtcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBzdWJtaXRCdXR0b24gPSBlZGl0Rm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ0blwiKTtcblxuICBzZXRTdWJtaXRCdXR0b25TdGF0ZShzdWJtaXRCdXR0b24sIHRydWUsIFwiU2F2aW5nLi4uXCIsIFwiU2F2ZVwiKTtcblxuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IGVkaXRNb2RhbE5hbWVJbnB1dC52YWx1ZSxcbiAgICAgIGFib3V0OiBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlLFxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbiAgICAgIGVkaXRGb3JtRWxlbWVudC5yZXNldCgpO1xuICAgICAgY2xvc2VNb2RhbChlZGl0TW9kYWwpO1xuICAgICAgcmVzZXRWYWxpZGF0aW9uKGVkaXRGb3JtRWxlbWVudCwgc2V0dGluZ3MpO1xuICAgICAgLy8gRGlzYWJsZSB0aGUgYnV0dG9uIGFmdGVyIHN1Y2Nlc3NmdWwgc3VibWlzc2lvblxuICAgICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUHJvZmlsZSB1cGRhdGUgZmFpbGVkOlwiLCBlcnIpO1xuICAgICAgYWxlcnQoXCJGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0U3VibWl0QnV0dG9uU3RhdGUoc3VibWl0QnV0dG9uLCBmYWxzZSwgXCJTYXZpbmcuLi5cIiwgXCJTYXZlXCIpO1xuICAgICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIHNldHRpbmdzKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YSkge1xuICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcbiAgc2VsZWN0ZWRDYXJkSWQgPSBkYXRhLl9pZDtcbiAgb3Blbk1vZGFsKGRlbGV0ZU1vZGFsKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgc2V0U3VibWl0QnV0dG9uU3RhdGUoY29uZmlybURlbGV0ZUJ1dHRvbiwgdHJ1ZSwgXCJEZWxldGluZy4uLlwiLCBcIkRlbGV0ZVwiKTtcblxuICBhcGlcbiAgICAuZGVsZXRlQ2FyZChzZWxlY3RlZENhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XG4gICAgICBjbG9zZU1vZGFsKGRlbGV0ZU1vZGFsKTtcbiAgICAgIHNlbGVjdGVkQ2FyZCA9IG51bGw7XG4gICAgICBzZWxlY3RlZENhcmRJZCA9IG51bGw7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNhcmQ6XCIsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRTdWJtaXRCdXR0b25TdGF0ZShjb25maXJtRGVsZXRlQnV0dG9uLCBmYWxzZSwgXCJEZWxldGVcIiwgXCJEZWxldGVcIik7XG4gICAgfSk7XG59XG5cbmRlbGV0ZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVEZWxldGVTdWJtaXQpO1xuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZElkLCBsaWtlQnV0dG9uKSB7XG4gIC8vIDEuIENoZWNrIGlmIHRoZSBjYXJkIGlzIGN1cnJlbnRseSBsaWtlZFxuICBjb25zdCBpc0xpa2VkID0gbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWJ0bl9saWtlZFwiKTtcblxuICBhcGlcbiAgICAubGlrZVN0YXR1cyhjYXJkSWQsIGlzTGlrZWQpXG4gICAgLnRoZW4oKHVwZGF0ZWRDYXJkKSA9PiB7XG4gICAgICBpZiAodXBkYXRlZENhcmQuaXNMaWtlZCkge1xuICAgICAgICBsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ0bl9saWtlZFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnRuX2xpa2VkXCIpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBsaWtlIHN0YXR1czpcIiwgZXJyKTtcbiAgICB9KTtcbn1cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdE1vZGFsTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XG5cbiAgcmVzZXRWYWxpZGF0aW9uKGVkaXRGb3JtRWxlbWVudCwgc2V0dGluZ3MpO1xuICBvcGVuTW9kYWwoZWRpdE1vZGFsKTtcbn0pO1xuXG5lZGl0TW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XG59KTtcblxuY2FyZEVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XG59KTtcblxuY2FyZE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY2xvc2VNb2RhbChjYXJkTW9kYWwpO1xufSk7XG5cbmVkaXRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUVkaXRGb3JtU3VibWl0KTtcbmNhcmRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsIiwiaW5wdXRFbCIsImNvbmZpZyIsInF1ZXJ5U2VsZWN0b3IiLCJjb25jYXQiLCJpZCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbCIsInNvbWUiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsImRpc2FibGVCdXR0b24iLCJhZGQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNc2ciLCJzaG93SW5wdXRFcnJvciIsImNoZWNrSW5wdXRWYWxpZGl0eSIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVzZXRWYWxpZGF0aW9uIiwiQXBpIiwiX3JlZiIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJrZXkiLCJ2YWx1ZSIsIlByb21pc2UiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsIl9jaGVja1Jlc3BvbnNlIiwiX3JlZjIiLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJyZXMiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJpc0xpa2VkIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQXZhdGFyQnRuIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJjYXJkc0xpc3QiLCJjYXJkRWRpdEJ1dHRvbiIsImVkaXRNb2RhbCIsImVkaXRGb3JtRWxlbWVudCIsImZvcm1zIiwiZWRpdE1vZGFsQ2xvc2VCdG4iLCJlZGl0TW9kYWxOYW1lSW5wdXQiLCJlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0IiwiY2FyZE1vZGFsIiwiY2FyZEZvcm0iLCJjYXJkTW9kYWxDbG9zZUJ0biIsImNhcmROYW1lSW5wdXQiLCJjYXJkTGlua0lucHV0IiwicHJldmlld01vZGFsIiwicHJldmlld01vZGFsSW1hZ2VFbGVtZW50IiwicHJldmlld01vZGFsQ2FwdGlvbkVsZW1lbnQiLCJwcmV2aWV3TW9kYWxDbG9zZUJ0biIsImF2YXRhck1vZGFsIiwiYXZhdGFyRm9ybSIsImF2YXRhclVybElucHV0IiwiYXZhdGFyTW9kYWxDbG9zZUJ0biIsImRlbGV0ZU1vZGFsIiwiZGVsZXRlTW9kYWxDbG9zZUJ0biIsImNvbmZpcm1EZWxldGVCdXR0b24iLCJjYW5jZWxEZWxldGVCdXR0b24iLCJkZWxldGVGb3JtIiwic3JjIiwibG9nbyIsImF2YXRhciIsInBlbmNpbCIsInBsdXMiLCJwZW5jaWxFZGl0QXZhdGFyIiwic2VsZWN0ZWRDYXJkIiwic2VsZWN0ZWRDYXJkSWQiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwic2V0U3VibWl0QnV0dG9uU3RhdGUiLCJidXR0b24iLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImRlZmF1bHRUZXh0IiwidG9nZ2xlIiwiZ2V0Q2FyZEVsZW1lbnQiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9pZCIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsImNhcmRMaWtlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwibGluayIsImFsdCIsIm9wZW5Nb2RhbCIsImhhbmRsZURlbGV0ZUNhcmQiLCJjYXJkSWQiLCJsaWtlQnV0dG9uIiwiY29udGFpbnMiLCJsaWtlU3RhdHVzIiwidXBkYXRlZENhcmQiLCJlcnIiLCJlcnJvciIsIm1vZGFsIiwiaGFuZGxlRXNjYXBlS2V5IiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJnZXRBcHBJbmZvIiwidXNlckRhdGEiLCJjYXJkcyIsIml0ZW0iLCJhcHBlbmQiLCJnZXRFbGVtZW50QnlJZCIsImRhdGFzZXQiLCJjYXJkVG9EZWxldGUiLCJyZXBsYWNlIiwiZGVsZXRlQ2FyZCIsInByZXZlbnREZWZhdWx0Iiwic3VibWl0QnV0dG9uIiwiYXZhdGFySW1nIiwidXBkYXRlQXZhdGFyIiwiRGF0ZSIsIm5vdyIsInJlc2V0IiwiYWxlcnQiLCJ0YXJnZXQiLCJlZGl0VXNlckluZm8iLCJhZGRDYXJkIiwicHJlcGVuZCJdLCJzb3VyY2VSb290IjoiIn0=